<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Все заказы</title>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-firestore.js"></script>
</head>
<body>
<h1>Все заказы</h1>
<ul id="ordersList"></ul>

<script>
  const firebaseConfig = {
    apiKey: "ВАШ_API_KEY",
    authDomain: "ВАШ_ДОМЕН.firebaseapp.com",
    projectId: "ВАШ_PROJECT_ID",
    storageBucket: "ВАШ_BUCKET.appspot.com",
    messagingSenderId: "ВАШ_SENDER_ID",
    appId: "ВАШ_APP_ID"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const ordersList = document.getElementById('ordersList');

  // Получение и отображение всех заказов в реальном времени
  db.collection('orders').orderBy('timestamp', 'desc')
    .onSnapshot(snapshot => {
      ordersList.innerHTML = '';
      snapshot.forEach(doc => {
        const data = doc.data();
        const li = document.createElement('li');
        li.innerHTML = `
          <strong>Требования:</strong> ${data.requirements} <br>
          <strong>Телефон:</strong> ${data.phone}<br>
          <em>Заказ создан: ${data.timestamp ? data.timestamp.toDate() : ''}</em>
        `;
        ordersList.appendChild(li);
      });
    });
</script>
</body>
</html>
</html>

