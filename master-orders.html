<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Все заказы</title>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-firestore.js"></script>
</head>
<body>
<h1>Все заказы</h1>
<ul id="ordersList"></ul>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyCJ_U2qYotnhVwZZGhnAqEM7IETF9fscb8",
  authDomain: "workykt-aa8e7.firebaseapp.com",
  databaseURL: "https://workykt-aa8e7-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "workykt-aa8e7",
  storageBucket: "workykt-aa8e7.firebasestorage.app",
  messagingSenderId: "133063582958",
  appId: "1:133063582958:web:4e97b790a5179270dd7fff",
  measurementId: "G-SKZ0NRH7XJ"
};

  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const ordersList = document.getElementById('ordersList');

  // Получение и отображение всех заказов в реальном времени
  db.collection('orders').orderBy('timestamp', 'desc')
    .onSnapshot(snapshot => {
      ordersList.innerHTML = '';
      snapshot.forEach(doc => {
        const data = doc.data();
        const li = document.createElement('li');
        li.innerHTML = `
          <strong>Требования:</strong> ${data.requirements} <br>
          <strong>Телефон:</strong> ${data.phone}<br>
          <em>Заказ создан: ${data.timestamp ? data.timestamp.toDate() : ''}</em>
        `;
        ordersList.appendChild(li);
      });
    });
</script>
</body>
</html>
</html>


